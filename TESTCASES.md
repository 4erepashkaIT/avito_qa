# TESTCASES.md
## 1. Теест-кейсы
### TC-001: Успешное создание объявления с валидными данными
- **Приоритет:** Высокий
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
    - Генерирован уникальный sellerID в диапазоне 111111-999999
- **Тестовые данные:**
#### DS-001:
```json
{
  "sellerID": 555555,
  "name": "Тестовый товар",
  "price": 1000,
  "statistics": {"likes": 0, "viewCount": 0, "contacts": 0}
}
```
- **Шаги:**
  1. Отправить POST запрос на /api/1/item с указанными тестовыми данными
  2. Проверить код ответа
  3. Проверить структуру ответа
  4. Сохранить полученный ID объявления
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Тело ответа содержит:
      - id (строка, не пустой)
      - sellerId = 555555
      - name = "Тестовый товар"
      - price = 1000
      - statistics с корректными значениями
      - createdAt (строка с датой)

### TC-002: Создание объявления с минимальной ценой
- **Приоритет:** Средний
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-002:
```json
{
  "sellerID": 222222,
  "name": "Бесплатный товар",
  "price": 0,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос на /api/1/item с ценой = 0
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Объявление создано с price = 0

### TC-003: Создание объявления с максимальной ценой
- **Приоритет:** Средний
- **Тип:** Позитивный (граничное значение)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-003:
```json
{
  "sellerID": 333333,
  "name": "Дорогой товар",
  "price": 2147483647,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос на /api/1/item с ценой = 0
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Объявление создано с price = 0

### TC-004: Создание объявления с длинным названием
- **Приоритет:** Средний
- **Тип:** Позитивный (граничное значение)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-004:
```json
{
  "sellerID": 444444,
  "name": "А" * 1000,  // Строка из 1000 символов
  "price": 500,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с названием из 1000 символов
  2. Проверить код ответа и сохранение названия
- **Ожидаемый результат:** 
  - Код ответа: 200 OK ИЛИ 400 Bad Request (в зависимости от ограничений)
  - Если 200: название сохранено полностью
  - Если 400: понятное сообщение об ошибке

### TC-005: Создание объявления со специальными символами в названии
- **Приоритет:** Средний
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-005:
```json
{
  "sellerID": 666666,
  "name": "Товар №1 <test> & \"quotes\" 'apostrophe' @#$%",
  "price": 1500,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с названием, содержащим спецсимволы
  2. Получить созданное объявление
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Специальные символы корректно сохранены и экранированы

### TC-006: Создание объявления с начальной статистикой больше нуля
- **Приоритет:** Средний
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-006:
```json
{
  "sellerID": 777777,
  "name": "Популярный товар",
  "price": 2000,
  "statistics": {
    "likes": 100,
    "viewCount": 500,
    "contacts": 25
  }
}
```
- **Шаги:**
  1. Отправить POST запрос со статистикой > 0
  2. Проверить сохранённые значения
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Статистика сохранена с указанными значениями

### TC-007: Создание объявления без поля name
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-007:
```json
{
  "sellerID": 123456,
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос без поля name
  2. Проверить код ответа и сообщение об ошибке
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Тело ответа содержит:
      - status с описанием ошибки
      - result.messages с указанием на отсутствие обязательного поля name

### TC-008: Создание объявления без поля price
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-008:
```json
{
  "sellerID": 123456,
  "name": "Товар без цены",
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос без поля price
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке указывает на отсутствие обязательного поля

### TC-009: Создание объявления без поля price
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-009:
```json
{
  "name": "Товар без продавца",
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос без поля sellerID
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о недостающем поле

### TC-010: Создание объявления без поля statistics
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-010:
```json
{
  "sellerID": 123456,
  "name": "Товар без статистики",
  "price": 1000
}
```
- **Шаги:**
  1. Отправить POST запрос без поля statistics
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о недостающем поле

### TC-011: Создание объявления с отрицательной ценой
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-011:
```json
{
  "sellerID": 123456,
  "name": "Товар с отрицательной ценой",
  "price": -100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с отрицательной ценой
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о невалидном значении цены

### TC-012: Создание объявления с отрицательной статистикой
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-012:
```json
{
  "sellerID": 123456,
  "name": "Товар",
  "price": 1000,
  "statistics": {
    "likes": -10,
    "viewCount": -5,
    "contacts": -3
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с отрицательными значениями статистики
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о невалидных значениях

### TC-013: Создание объявления с неверным типом данных для price (строка вместо числа)
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-013:
```json
{
  "sellerID": 123456,
  "name": "Товар",
  "price": "тысяча рублей",
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с price типа string
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о неверном типе данных

### TC-014: Создание объявления с неверным типом данных для sellerID (строка вместо числа)
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-014:
```json
{
  "sellerID": "abc123",
  "name": "Товар",
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с sellerID типа string
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о неверном типе данных

### TC-015: Создание объявления с пустой строкой в name
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-015:
```json
{
  "sellerID": 123456,
  "name": "",
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Отправить POST запрос с пустой строкой в name
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о пустом значении

### TC-016: Создание объявления с пустым JSON
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-016:
```json
{}
```
- **Шаги:**
  1. Отправить POST запрос с пустым телом
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о недостающих обязательных полях

---
### TC-017: Получение существующего объявления по валидному ID
- **Приоритет:** Высокий
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-017:
    - itemId = ID созданного объявления
- **Шаги:**
  1. Создать объявление через POST /api/1/item
  2. Сохранить полученный ID
  3. Отправить GET запрос на /api/1/item/{id}
  4. Проверить код ответа и данные
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Возвращается массив с одним объектом
  - Данные объявления совпадают с созданными:
      - id соответствует запрошенному
      - sellerId, name, price, statistics совпадают
      - Присутствует поле createdAt

### TC-018: Получение объявления по несуществующему ID
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-018:
```json
{
    itemId = "nonexistent-id-12345"
}
```
- **Шаги:**
  1. Отправить GET запрос на /api/1/item/nonexistent-id-12345
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 404 Not Found
  - Тело ответа содержит:
      - result с информацией об ошибке
      - status с описанием

### TC-019: Получение объявления с невалидным форматом ID (специальные символы)
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-019:
```json
{
    itemId = "<script>alert('xss')</script>"
}
```
- **Шаги:**
  1. Отправить GET запрос с невалидным ID
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Нет уязвимости XSS

### TC-020: Получение объявления с пустым ID
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-020:
```json
{
    itemId = ""
}
```
- **Шаги:**
  1. Отправить GET запрос на /api/1/item/ (пустой ID)
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке

### TC-021: Получение объявления с очень длинным ID
- **Приоритет:** Низкий
- **Тип:** Негативный (граничное значение)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-021:
    - itemId = строка из 10000 символов
- **Шаги:**
  1. Отправить GET запрос с очень длинным ID
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request ИЛИ 404 Not Found ИЛИ 414 URI Too Long
  - Сервер не падает

### TC-022: Получение всех объявлений существующего продавца с объявлениями
- **Приоритет:** Высокий
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
    - Создано несколько объявлений с одним sellerID
- **Тестовые данные:**
#### DS-022:
    - sellerID = 888888
    - Создано 3 объявления
- **Шаги:**
  1. Создать 3 объявления с sellerID = 888888
  2. Отправить GET запрос на /api/1/888888/item
  3. Проверить код ответа и количество объявлений
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Возвращается массив с 3 объектами
  - Все объекты имеют sellerId = 888888
  - Каждый объект содержит все необходимые поля

### TC-023: Получение объявлений продавца, у которого нет объявлений
- **Приоритет:** Высокий
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
    - Использован уникальный sellerID без объявлений
- **Тестовые данные:**
#### DS-023:
    - sellerID = 999999
- **Шаги:**
  1. Отправить GET запрос на /api/1/999999/item (продавец без объявлений)
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Возвращается пустой массив []

### TC-024: Получение объявлений с невалидным sellerID (строка вместо числа)
- **Приоритет:** Средний
- **Тип:** негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-024:
    - sellerID = "abc"
- **Шаги:**
  1. Отправить GET запрос на /api/1/abc/item
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request
  - Сообщение об ошибке о неверном формате ID

### TC-025: Получение объявлений с отрицательным sellerID
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-025:
    - sellerID = -123
- **Шаги:**
  1. Отправить GET запрос на /api/1/-123/item
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request ИЛИ 200 OK с пустым массивом
  - Нет серверной ошибки

### TC-026: Получение объявлений с sellerID = 0
- **Приоритет:** Низкий
- **Тип:** Негативный (граничное значение)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-026:
    - sellerID = 0
- **Шаги:**
  1. Отправить GET запрос на /api/1/0/item
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request ИЛИ 200 OK с пустым массивом

### TC-027: Получение статистики существующего объявления
- **Приоритет:** Высокий
- **Тип:** Позитивный
- **Предусловия:**
    - API доступен
    - Создано объявление с известным ID
- **Тестовые данные:**
#### DS-027:
    - itemId = ID созданного объявления
    - Статистика при создании: likes=5, viewCount=10, contacts=2
- **Шаги:**
  1. Создать объявление с заданной статистикой
  2. Отправить GET запрос на /api/1/statistic/{id}
  3. Проверить данные статистики
- **Ожидаемый результат:** 
  - Код ответа: 200 OK
  - Возвращается массив с объектом статистики
  - Значения совпадают с созданными:
      - likes = 5
      - viewCount = 10
      - contacts = 2

### TC-028: Получение статистики несуществующего объявления
- **Приоритет:** Высокий
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-028:
    - itemId = "nonexistent-id-99999"
- **Шаги:**
  1. Отправить GET запрос на /api/1/statistic/nonexistent-id-99999
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 404 Not Found
  - Тело ответа содержит информацию об ошибке

### TC-029: Получение статистики с невалидным ID
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-029:
    - itemId = "!@#$%^&*()"
- **Шаги:**
  1. Отправить GET запрос с невалидным ID
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request ИЛИ 404 Not Found

### TC-030: Получение статистики с пустым ID
- **Приоритет:** Средний
- **Тип:** Негативный
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-030:
    - itemId = ""
- **Шаги:**
  1. Отправить GET запрос на /api/1/statistic/
  2. Проверить код ответа
- **Ожидаемый результат:** 
  - Код ответа: 400 Bad Request ИЛИ 404 Not Found

### TC-031: Полный жизненный цикл объявления
- **Приоритет:** Высокий
- **Тип:** Позитивный (интеграционный)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-031:
```json
{
  "sellerID": 111111,
  "name": "Интеграционный тест",
  "price": 5000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
- **Шаги:**
  1. Создать объявление через POST /api/1/item
  2. Сохранить полученный ID
  3. Получить объявление по ID через GET /api/1/item/{id}
  4. Получить список объявлений продавца через GET /api/1/{sellerID}/item
  5. Получить статистику через GET /api/1/statistic/{id}
  6. Сравнить данные на всех этапах
- **Ожидаемый результат:** 
  - Все запросы возвращают 200 OK
  - Данные консистентны на всех этапах:
  - ID совпадает
    - Все поля сохранены корректно
    - Объявление присутствует в списке продавца
    - Статистика соответствует созданной

### TC-032: Создание нескольких объявлений одним продавцом
- **Приоритет:** Высокий
- **Тип:** Позитивный (интеграционный)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-032:
    - sellerID = 222222
    - 5 различных объявлений
- **Шаги:**
  1. Создать 5 объявлений с одним sellerID = 222222
  2. Сохранить все ID
  3. Получить список объявлений продавца
  4. Проверить количество и данные
- **Ожидаемый результат:** 
  - Все создания успешны (200 OK)
  - GET /api/1/222222/item возвращает массив минимум из 5 элементов
  - Все созданные ID присутствуют в списке

### TC-033: Проверка уникальности ID объявлений
- **Приоритет:** Высокий
- **Тип:** Позитивный (интеграционный)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-033:
    - Идентичные данные для создания двух объявлений
- **Шаги:**
  1. Создать объявление с определёнными данными
  2. Создать второе объявление с ТОЧНО такими же данными
  3. Сравнить полученные ID
- **Ожидаемый результат:** 
  - Оба объявления созданы успешно
  - ID объявлений различаются
  - Оба объявления можно получить отдельно

### TC-034: Изоляция данных между разными продавцами
- **Приоритет:** Высокий
- **Тип:** Позитивный (интеграционный)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-034:
    - sellerID_1 = 333333
    - sellerID_2 = 444444
- **Шаги:**
  1. Создать объявление для продавца 1
  2. Создать объявление для продавца 2
  3. Получить список объявлений продавца 1
  4. Получить список объявлений продавца 2
  5. Проверить, что списки не пересекаются
- **Ожидаемый результат:** 
  - Каждый продавец видит только свои объявления
  - Объявление продавца 1 отсутствует в списке продавца 2
  - Объявление продавца 2 отсутствует в списке продавца 1

### TC-035: Проверка поля createdAt
- **Приоритет:** Средний
- **Тип:** Позитивный (интеграционный)
- **Предусловия:**
    - API доступен
- **Тестовые данные:**
#### DS-035:
    - Любые валидные данные объявления
- **Шаги:**
  1. Зафиксировать текущее время
  2. Создать объявление
  3. Получить объявление по ID
  4. Проверить поле createdAt
- **Ожидаемый результат:** 
  - Поле createdAt присутствует
  - Значение в валидном формате даты/времени
  - Время создания близко к фактическому (разница < 1 минуты)
